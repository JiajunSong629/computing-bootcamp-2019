<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <title>Computing Bootcamp 2019</title>
    <meta charset="utf-8" />
    <meta name="author" content="Shawn Santo" />
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link rel="stylesheet" href="slides.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Computing Bootcamp 2019
## Python and Jupyter Notebooks
### Shawn Santo
### 08-19-19

---





class: inverse, center, middle

# Preliminaries

---

## Before we start

To follow along and be active you have a few options.

- Use a docker container from Duke OIT

    1. Go to https://vm-manage.oit.duke.edu/containers
    2. Log in with your Duke NetID and password
    3. Find `Jupyter - interactive data science and scientific computing notebooks`
    4. Click the link to create your environment
    
- Get Python and Jupyter notebook for your own computer

    1. Go to https://www.anaconda.com/distribution/
    2. Download Python 3.x version based on your OS
    3. Follow install instructions at https://docs.anaconda.com/anaconda/install/
    
- Use RStudio (run Python, but no Jupyter notebook)

    1. Log in to DSS RStudio server
    2. In an R Markdown file you can insert Python chunks instead of R chunks
    3. Click the dropdown arrow next to insert
---

class: inverse, center, middle

# Why Python?

---

## KDnuggets poll

.center.middle[

![](img/kd-nuggets.jpg)

]

---
## TIOBE index

.center.middle[

![](img/tiobe-index.png)

]

---

## Stack Overflow trends

To see how technologies have trended over time based on use of their 
tags since 2008 we can look at Stack Overflow trends. [https://bit.ly/2YPWVK7](https://bit.ly/2YPWVK7)

.center[
![](img/stack-overflow.png)
]



---

class: inverse, center, middle

# Jupyter notebook

---

## Overview of the notebook

Bimodal interface: edit mode and command mode

&lt;br&gt;

Click in a cell or hit `enter` to enter edit mode
.center[
![](img/edit-mode.png)
]

When in edit mode you can type code or write text with markdown.

&lt;br&gt;

Hit `esc` to enter command mode
.center[
![](img/command_mode.png)
]

When in command mode you can make edits to the notebook, but not individual
cells.

---

## Notebook shortcuts

In edit mode:

- Run cell and add new cell: `shift + enter`
- Add a line within a cell: `enter`

In command mode:

- Save the notebook: `s`
- Change cell to markdown: `m`
- Change cell to code: `y`
- Cut, copy, paste, delete a cell: `x`, `c`, `v`, `d`
- Add a cell above, below: `a`, `b`

&lt;br&gt;&lt;br&gt;

*The point-and-click interface is also an option to execute these commands.*

---

## Jupyter notebook versus R Markdown

- Similar to R Markdown, Jupyter notebooks allow you to write code and text in
one easy to read document that is reproducible and easy to share with others.

- A Jupyter notebook does not knit into an HTML, PDF or Word file. However, you
can embeed HTML into a notebook.

-

---

class: inverse, center, middle

# Basics

---

## Operators


```python
10 + 8
```

```
18
```

```python
3 - 2
```

```
1
```

```python
100 / 6
```

```
16.666666666666668
```

```python
80 * 0
```

```
0
```

```python
100 // 3
```

```
33
```

---

## Operators


```python
13 % 4
```

```
1
```

```python
4 ** 3
```

```
64
```

Operators `&amp;`, `|`, and `^` are bitwise operators. You probably will not need
them. These are used in R, so try not to get confused.

---

## Comparison operators


```python
5 &gt; 0
```

```
True
```

```python
4 &lt; 100
```

```
True
```

```python
3 == 3
```

```
True
```

```python
10 &lt;= (5 * 1.9)
```

```
False
```

```python
0 != 1
```

```
True
```

---


## Comparison operators

Use boolean key words `and`, `or`, and `not` for multiple comparisons.


```python
(5 &gt; 10) or (8 / 2 == 4)
```

```
True
```

```python
True and (8 &gt; 64 ** 0.5)
```

```
False
```

```python
not True and (8 &gt; 64 ** 0.5)
```

```
False
```

```python
not (True and (8 &gt; 64 ** 0.5))
```

```
True
```

Parentheses matter. Also, python is case sensitive. True != TRUE unless 
you set a variable TRUE = True which is something you probably shouldn't do.

---

## Differences between Python and R

|      Command     |  Python |        R       |
|:----------------:|:-------:|:--------------:|
|             true |  `True` |  `TRUE` or `T` |
|            false | `False` | `FALSE` or `F` |
|               or |   `or`  |       `|`      |
|              and |  `and`  |       `&amp;`      |
|              not |  `not`  |       `!`      |
|           modulo |   `%`   |      `%%`      |
|   exponentiation |   `**`  |       `^`      |
| integer division |   `//`  |      `%/%`     |

---

## Object assignment

Use a single `=` for object assignment.


```python
a = 10
a
```

```
10
```

```python
b = [-10, 0, "computing", "bootcamp", 5 / 2]
b
```

```
[-10, 0, 'computing', 'bootcamp', 2.5]
```

```python
my_string = "This is a longgggg string"
my_string
```

```
'This is a longgggg string'
```

```python
nums = list(range(7))
nums
```

```
[0, 1, 2, 3, 4, 5, 6]
```

---

## Shortcut operation and assignment

Unlike R, Python supports things like


```python
a = 5
a += 3
a
```

```
8
```


```python
val = 10
val **= 3
val
```

```
1000
```

These are equivalent to `a = a + 3` and `val = val ** 3`, respectively.


---

class: inverse, center, middle

# Data structures

---

## Built-in data structures

Python has four built-in data structures

- Lists: an ordered collection of items, mutable
&lt;br&gt;&lt;br&gt;
- Tuples: an immutable list
&lt;br&gt;&lt;br&gt;
- Dictionaries: an unordered collection of key-value pairs
&lt;br&gt;&lt;br&gt;
- Sets: unordered collection of unique objects

---

## Lists

- Lists can contain anything you want.

- The first item in a list is considered to be in position 0, not position 1.


```python
my_list2 = [9, [1, 1, 1], 10, "swimming", "hiking"]
my_list2
```

```
[9, [1, 1, 1], 10, 'swimming', 'hiking']
```

```python
my_list2[0]
```

```
9
```

```python
my_list2[1]
```

```
[1, 1, 1]
```

```python
my_list2[-1]
```

```
'hiking'
```

---

## Tuples

- A tuple looks just like a list, but we use ( ) instead of [ ].

- Remember: tuples are immutable, you won't be able to change individual values


```python
cars = ("subaru", "bmw", "hond", "ford")
cars[3]
```

```
'ford'
```


```python
# Try to change

cars[2] = "honda"
```

```
Error in py_call_impl(callable, dots$args, dots$keywords): TypeError: 'tuple' object does not support item assignment

Detailed traceback: 
  File "&lt;string&gt;", line 1, in &lt;module&gt;
```

`TypeError: 'tuple' object does not support item assignment`

---

## Dictionaries

- Each key is connected to a value.

- The value can be any object you can create in python.

- Syntax: `{"key1": val1, "key2": val2}`


```python
my_bike = {"model": "trek", "color": "lime green", "size": 56, "style": "gravel"}

my_bike["model"]
```

```
'trek'
```

```python
my_bike["year"] = 2019
my_bike
```

```
{'model': 'trek', 'color': 'lime green', 'size': 56, 'style': 'gravel', 'year': 2019}
```

---

## Sets

- Test for membership.

- Apply set operators that you know from set theory.


```python
my_set = {'a', 'b', 'c', 'd'}
my_set
```

```
{'a', 'd', 'b', 'c'}
```

```python
list("seewhathappens")
```

```
['s', 'e', 'e', 'w', 'h', 'a', 't', 'h', 'a', 'p', 'p', 'e', 'n', 's']
```

```python
my_set2 = set(list("aabbbbbbbbcddddddde"))
my_set2
```

```
{'e', 'd', 'c', 'a', 'b'}
```

---

class: inverse, center, middle

# Classes, methods, attributes

---

## A brief introduction to OOP

Python is an object oriented programming (OOP) language. Objects can be
categorized by their class type. For each class there exist methods and
attributes.

- Think of methods as functions defined to be used for only that class.

- Think of attributes as variables defined for use with respect to a class.

- To access methods and attributes: `my_object.&lt;method or attribute&gt;`

---

## Methods in action


```python
my_courses = ["STA523", "STA199"]
type(my_courses)
```

```
&lt;class 'list'&gt;
```


```python
my_courses.append("STA323")
my_courses
```

```
['STA523', 'STA199', 'STA323']
```


```python
my_courses.reverse()
my_courses
```

```
['STA323', 'STA199', 'STA523']
```

---

## More methods in action


```python
x = 4 + 3j
y = 0 + 1J

[x.real, y. real]
```

```
[4.0, 0.0]
```

```python
[x.imag, y.imag]
```

```
[3.0, 1.0]
```


```python
my_string = "python is an object oriented programming language"

my_string.title()
```

```
'Python Is An Object Oriented Programming Language'
```

```python
my_string.count("o")
```

```
4
```

---

## Tasks

### Task 1

Create a variable and each of the four built-in data structures (list, tuple,
dictionary, set). For each object use two methods and document in markdown the
functionality of the two methods.

### Task 2

Set `dilemma` to all lowercase. Then, reverse the order of the letters. Lastly,
capitalize the first "b".



```python
dilemma = "Borrow OR Rob"
```

*Hint*

`dilemma[start:end:step]`. What does a negative index do?

---

class: inverse, center, middle

# Control flow

---

## `if`, `for`, `while`

- The syntax style of control flow in Python is based off `:` and indented
  spaces. Python does not wrap code blocks for control flow with `{ }` as is
  done in R.
- This has plusses and minuses
- There is no `switch` statement and no `repeat` statement

---

## `if`



```python
if condition:
  # code block
  # indented
elif another_condition:
  # code block
  # indented
else:
  # code block
  # indented
```




```python
medical_cost = 180

if medical_cost &lt;= 100:
  bill = medical_cost
elif medical_cost &lt;= 200:
  bill = 100 + (0.5 * (medical_cost - 100))
else:
  bill = 150
  
print("Your total bill is {} dollars.".format(bill))
```

```
Your total bill is 140.0 dollars.
```

---

## `for` loop



```python
for index in sequence:
  # code
  # to 
  # be
  # iterated
  # again, indented
```




```python
j = 1

for i in "Duke":
  print("Letter {} is {}.\n".format(j, i))
  j += 1
```

```
Letter 1 is D.

Letter 2 is u.

Letter 3 is k.

Letter 4 is e.
```

---

## `for` loop



```python
for index in sequence:
  # code
  # to 
  # be
  # iterated
  # again, indented
```



```python
j = 1

for i in "Duke":
  print("Letter {} is {}.\n".format(j, i))
  j += 1
```

```
Letter 1 is D.

Letter 2 is u.

Letter 3 is k.

Letter 4 is e.
```

---

## `for` loop

Some more examples...


```python
squares = []
for i in range(1, 11):
  squares.append(i ** 2)
  
squares
```

```
[1, 4, 9, 16, 25, 36, 49, 64, 81, 100]
```


```python
d = {"language": "python", "version": 3.7, 
      "year": 1989, "creator": "Guido van Rossum"}
      
for k, v in d.items():
  print("The key is {}, and its value is {}.".format(k, v))
```

```
The key is language, and its value is python.
The key is version, and its value is 3.7.
The key is year, and its value is 1989.
The key is creator, and its value is Guido van Rossum.
```

---

## `while` loop



```python
while condition:
  # code
  # to 
  # be
  # iterated
  # again, indented
```



```python
j = 100
i = 1.01
while i &lt; j:
  i *= i
  print(i)
```

```
1.0201
1.04060401
1.0828567056280802
1.1725786449236988
1.3749406785310976
1.890461869479555
3.573846079956134
12.772375803217825
163.1335836586242
```

---

## `while` loop

Some more examples...


```python
nums = list(range(3))
while nums:
  num_off = nums.pop()
  print("The number {} was removed from the list nums.".format(num_off))
```

```
The number 2 was removed from the list nums.
The number 1 was removed from the list nums.
The number 0 was removed from the list nums.
```

Python also supports `break` statements


```python
my_string = "I'm sleepy, "
i = 1
while True:
  my_string += "z"
  i += 1
  if i &gt; 10:
    break
    
my_string
```

```
"I'm sleepy, zzzzzzzzzz"
```

---

class: inverse, center, middle

# Functions

---

## Defining a function

As with control flow, Python relies on indentations and `:` for function style
syntax as opposed to `{ }` in R.

.pull-left[

```python
def func_name(arg1, arg2):
    """
    Docstring starts wtih a 
    short description.

    May have more 
    information here.

    arg1 = something
    arg2 = somehting

    Returns something

    Example usage:

    func_name(1, 2)
    
    """
    result = arg1 + arg2

    return result
```
]

.pull-right[


```python
help(func_name)
```

```
Help on function func_name in module __main__:

func_name(arg1, arg2)
    Docstring starts wtih a 
    short description.
    
    May have more 
    information here.
    
    arg1 = something
    arg2 = somehting
    
    Returns something
    
    Example usage:
    
    func_name(1, 2)
```

]

---

## Functions in action


```python
def is_prime(n):
  """
  This function checks if a number is prime.
  
  n = positive integer
  
  Example:
  
  is_prime(2)
  is_prime(16)
  
  """
  
  if n &lt; 3:
    result = n - 1
  else:
    for i in range(2, n):
      if (n % i) == 0:
        result = False
        break
    else:
      result = True
      
  return bool(result)
  
```

---

## Function scope


```python
x = 10

def f(x):
  print("The value of x on line 1 is: {}".format(x))
  x += x
  print("The value of x on line 3 is: {}".format(x))
  
f(x = x)
  
```

```
The value of x on line 1 is: 10
The value of x on line 3 is: 20
```

```python
print("The value of x after the function has run is: {}".format(x))
  
```

```
The value of x after the function has run is: 10
```

---

## Function scope


```python
my_list = list("abcd")
print(my_list)
```

```
['a', 'b', 'c', 'd']
```

```python
def g(y):
  y.pop()
  print(y)
  print(my_list)
  return y
  
new_list = g(y = my_list)
```

```
['a', 'b', 'c']
['a', 'b', 'c']
```

```python
print(new_list)
```

```
['a', 'b', 'c']
```

---

## Tasks

### Task 3

Write a function that takes a list and returns a new list with 
unique elements of the first list.




```python
unique_list([1,1,1,1,2,2,3,3,3,3,4,5])
```

```
[1, 2, 3, 4, 5]
```

### Task 4

Use funtion `is_prime()` to write another function that counts how many prime
numbers there are less than or equal to a specified number.




```python
prime_count(k = 1000)
```

```
168
```





---

class: inverse, center, middle

# Python libraries

---

## Libraries of interest

- [NumPy](https://www.numpy.org/): package for scientific computing, handling
  matrices, arrays, high level mathematical functions

- [SciPy](https://scipy.org/scipylib/): optimization, numerical integration, 
  linear algebra methods
  
- [pandas](https://pandas.pydata.org/): data wrangling and analysis (think 
  R's `dplyr`)
  
- [matplotlib](https://matplotlib.org/index.html): 2D plotting library, generate
  plots, histograms, power spectra, bar charts, errorcharts, scatterplots
  
- [seaborn](https://seaborn.pydata.org/): higher level plotting environment, 
  based on Matplotlib
  
- [scikit-learn](https://scikit-learn.org/stable/): go to for machine learning
  in Python, built on NumPy, SciPy, and matplotlib
  
- [TensorFlow](https://www.tensorflow.org/): popular framework for deep and 
  machine learning, developed in Google Brain

---

## Importing

A module is a single importable Python file whereas a package is made up of 
two or more modules. Both can be imported the same way with the keyword
`import`.

For example, `import math` imports the math module and we will get access to
its many functions.


```python
import math
math.factorial(5)
```

```
120
```

```python
math.sqrt(100)
```

```
10.0
```

```python
math.log(1)
```

```
0.0
```


---

## Importing `from`

If you don't want to import all the functions from a module, then you can
just import the ones you need with the keyword `from`.


```python
from math import factorial, sqrt, log
factorial(5)
```

```
120
```

```python
sqrt(100)
```

```
10.0
```

```python
log(1)
```

```
0.0
```

We no longer have to preface each function call with `math.`. You can
import all functions from a given module with


```python
from math import *
```

However, this is a bad idea as you may have conflicts between your 
object names and function names in the module.

---

## Importing `as`

For brevity, people often give an alias to a package or module on import. This
can be done with the keyword `as`.


```python
import numpy as np
import scipy.stats as st
import matplotlib.pyplot as plt
```

Rather than type `matplotlib.pyplot.hist()` a user can type `plt.hist()`. 
There are common conventions for aliases so stick to using those.

---

## Example

Import packages / modules:


```python
import numpy as np
import scipy.stats as st
import matplotlib.pyplot as plt
```

In Jupyter notebook you'll want to include the below line of code in a cell
to allow for inline plotting.


```python
%matplotlib inline
```


```python
data = np.random.rand(20, 20)
plt.imshow(data)
plt.colorbar()
```

---

## Example


```python
norm_rv = st.norm.rvs(loc = 0,scale = 1, size = 5000)
plt.hist(x=norm_rv, bins=20, alpha=.5, color="purple",
          edgecolor='black', linewidth=1.2)
```

---

## Tasks

### Task 5

Create a histogram based off of random variables generated from a probability
distribution of your choice.

### Task 6

Plot 100 time steps of a simple symmetric random walk that starts at the value
0.




---

## Python programming resources

- Style

    - [PEP 8](https://www.python.org/dev/peps/pep-0008/): standard Python style
    - [PEP 257](https://www.python.org/dev/peps/pep-0257/): documentation
      conventions

- Beginner

   - [Python](https://www.python.org/): official documentatoin and tutorial
   - [Jupyter](https://jupyter.org/): web notebook interface, reproducible 
     research
   - [A Byte of Python](https://python.swaroopch.com/)
   - [Python Crash Course](https://ehmatthes.github.io/pcc/)
   - [Python Crash Course - Cheat Sheets](https://ehmatthes.github.io/pcc/cheatsheets/README.html)

- Advanced

    - [Python Package Index](https://pypi.org)
    - [Problem Solving with Algorithms and Data Structures using Python](https://runestone.academy/runestone/books/published/pythonds/index.html)

- Miscellaneous

    - [Python 3 Module of the Week](https://pymotw.com/3/)

---

class: inverse, center, middle

# Acknowledgments

---

## Acknowledgments
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();</script>

<script>
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
